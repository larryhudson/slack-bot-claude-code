Okay, let's have a go at planning a little project. The idea that I'm thinking of is to make a Slackbot integration that allows users to ask questions of an LLM that has access to a GitHub repository code base. So how this would work? You would need the Slack integration, so you would install the Slack integration, and then you would connect a GitHub repository. So it would need to be a GitHub integration as well. And then once it's set up, you can ask a question. And the back end will need to clone the git repository locally. then run the claud code cli within that git repository folder and it will need to do what it needs to do in order to answer the user's request. I want to make the simplest possible version of this. So it would be a web server with a web hook end point. We would install the Slack integration. We would connect the GitHub repository. So we would need to store some credentials like GitHub maybe when we link the GitHub repository we would need to store some sort of GitHub installation ID and some sort of token so that when a Slack message request comes in we have a token we can use to clone the GitHub repository, run the Clordcode CLI and give the user a response. Now the Claude Code CLI might take quite a while so it will need to be like asynchronous. So not doing everything in one HTTP request, it'll be acknowledging the Slack message maybe by responding to it with like an eyes emoji. Then once the claud code process finishes, replying to that original slack message with the with the with the output, we might need to instruct claud code to write its findings to a new file called output.md or something like that. We might need to use celery for like a background task queue, so actually handling that clod code process asynchronously. And each time I'm almost wondering if you have, if you clone the repository into a local folder and then And maybe you create a new work tree branch each time you have Claude working. That way you could have multiple requests happening at the same time in different branch folders. That could be one way of working it. When we run clodcode we need to grant clodcode access to use the git command because we want clodcode to be able to use git blame for example to see who was the person that edited these files last. That is like an important use case. The use case that I'm imagining is non-technical team members being able to ask questions that require technical code-based knowledge. I think because it's August in France, this is a great time to create something like this because a lot of people are away on leave. So making this sort of use case where you can ask a question and get back a detailed answer that uses the code base and directs you to a person to talk to, I think that could be really helpful. So just thinking through it one more time, let's also imagine a Slack message comes in and it has a couple of image attachments, maybe screenshots. It would be great if we could write those image attachment files locally into the folder that Claude Code has access to. So we give the user sends a message with image attachments in that webhook listener we download those image files and we put them into the folder where Claude code is running and in the prompt we say the user attached these images. Claude code can read the image files and see them visually. So if the user said I'm on this page and I say this, it should be this. Then Claude can do stuff with that. Okay. My sort of high level plan for how you might get this working. Let's set up a simple Python fast API backend server. It'll need the authentication endpoints. So a Slack install link that redirects to Slack's integration installation page. we'll need to handle the sort of authentication callback which is where we get the OAuth code from Slack. We will store that. We only need it to work with one Slack workspace to start with. and we only really need it to work with one GitHub repository to start with too. So it can be pretty simple, you don't really need a database. We could even just have a JSON file locally that includes credentials. that is git ignored. So the slack authentication URLs, you would need a very simple front end, this could just be a HTML endpoint which lists the sort of status of yes I'm connected to Slack no I'm not connected to GitHub yet so there would be like a GitHub install URL as well that would let you install it into a repository Then you would need to handle that OAuth callback as well. And after that you would have your Slack connected, you would have your GitHub connected. Then you would have a Slack webhook handler for managing the incoming messages. If we receive a message and github is not yet set up, we would give them a message linking to the github install link. Then, then, finally, we would have a background, Celery, worker queue for handling the for handling the actual worker tasks so when a slack message comes in we acknowledge it create the background task in that background task queue that picks up the job. It does its thing in the sort of payload it would have the prompt and it would have like a slack message id at the end of that job it would need to reply to that slack message id with the output. I think that's good enough to get started with. So let's turn this into a design doc and let's start building.
